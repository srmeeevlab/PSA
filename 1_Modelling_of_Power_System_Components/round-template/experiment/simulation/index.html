<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Experiment 1</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <link rel="stylesheet" href="./CSS/myStyles.css">
    </head>
    <body>
        <nav class="nav-bar navbar-dark" style="background-color: #ff971d;">
            <div class="container-fluid d-flex justify-content-between">
                <a href="https://www.srmist.edu.in/" target="_blank"><img width="176px" height="59px" class="navbar-brand my-2 p-0" src="images/srmLogo.png"/></a>
                <span class="navbar-text text-center">
                    <strong class="exp-title">Modelling of Power System Components</strong>
                </span>
                <button id="info" type="button" class="my-auto" data-bs-toggle="modal" data-bs-target="#helpModal" title="Help"><i class="bi bi-info-circle"></i></button>
            </div>
        </nav>
        <div class="modal fade" id="questionModal" tabindex="-1" aria-labelledby="questionModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Answer the following questions</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div id="question"></div>
                        <div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" value="a" id="answer_a" name="answer">
                                <label id="answer_a_label" class="form-check-label" for="answer_a">
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" value="b" id="answer_b" name="answer">
                                <label id="answer_b_label" class="form-check-label" for="answer_b">
                                </label>
                            </div>
                        </div>
                        <div id="comments">
                            
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onclick="verifyInteractive()">Verify</button>
                        <button id="nextQuestion" type="button" class="btn btn-primary" disabled onclick="next()">Next</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Help</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body help-body">
                        <strong>To open this menu again click on <i class="bi bi-info-circle"></i> on the top right.</strong><br><br>
                        <div>
                            The basic formula used to calculate the per unit quantities of the respective components are <br>
                            <img class="img-fluid" src="./images/Exp1_Eqn1.png" alt="Formula to calculate per unit"><br>
                            <img class="img-fluid" src="./images/Exp1_Eqn2.png" alt="Formula for actual impedance through perunit impedance"><br><br>
                            Z<sub>a</sub> = Actual impedance<br> 
                            Z<sub>p.u</sub> = Perunit impedance<br>
                            KV<sub>b</sub> = Kilo Base voltage<br>
                            MVA<sub>b</sub>  = Mega base volt ampere<br>
                            <br>
                            <br>
                            For Load<br>
                            <img class="img-fluid" src="./images/Exp1_Eqn3.png" alt="Per unit impedance of load"><br>
                            V<sub>L</sub> = Line voltage at load terminal<br>
                            P<sub>L</sub> = Three phase load real power<br>
                            Q<sub>L</sub> = Three phase load reactive power<br> 
                        </div>
                        <br>
                        <br>
                        <table class="table table-striped">
                            <thead class="sticky">
                                <tr>
                                    <th scope="col">
                                        Field   
                                    </th>
                                    <th scope="col">
                                        Explanation
                                    </th>
                                    <th scope="col">
                                        General Range
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Base MVA</td>
                                    <td>Base Mega Volt Ampere</td>
                                    <td>10 MVA to 1000 MVA (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Base kV</td>
                                    <td>It is defined as the total opposition of the circuit to the electric current</td>
                                    <td>11 kV to 800 kV (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Impedance</td>
                                    <td>It is defined as the total opposition of the circuit to the electric current</td>
                                    <td>Based on rating of the equipment (kV, MVA)</td>
                                </tr>
                                <tr>
                                    <td>Primary Impedance</td>
                                    <td>The impedance offered by the primary side of the transformer coil</td>
                                    <td>Based on rating of the equipment (kV, MVA)</td>
                                </tr>
                                <tr>
                                    <td>Secondary Impedance</td>
                                    <td>The impedance offered by the secondary side of the transformer coil</td>
                                    <td>Based on rating of the equipment (kV, MVA)</td>
                                </tr>
                                <tr>
                                    <td>Primary Base kV</td>
                                    <td>It is the Base voltage in KV with respect to primary side of the transformer</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Base kV Primary</td>
                                    <td>It is the Base voltage in kV with respect to primary side of the transformer</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Base kV Secondary</td>
                                    <td>It is the Base voltage in kV with respect to secondary side of the transformer</td>
                                    <td>220 V to 800 kV (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Calculated Primary Impedance</td>
                                    <td>It is calculated by the user based on the given values</td>
                                    <td>0.0001 p.u. to 2 p.u. (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Calculated Secondary Impedance</td>
                                    <td>It is calculated by the user based on the given values</td>
                                    <td>0.0001 p.u. to 2 p.u. (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Impedance Per km</td>
                                    <td>It is the measurement of the transmission line impedance per kilometer</td>
                                    <td>Based on rating of the equipment (kV, MVA)</td>
                                </tr>
                                <tr>
                                    <td>Length of line</td>
                                    <td>It is the measurement of length of the transmission line</td>
                                    <td>0.1 km to 600 km (but not restricted) </td>
                                </tr>
                                <tr>
                                    <td>V<sub>L</sub> Where L is for Load</td>
                                    <td>It is the line voltage at load terminal</td>
                                    <td>11 kV to 800 kV (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>P<sub>L</sub></td>
                                    <td>It is the three phase real power consumed by the load</td>
                                    <td>0.5 W to 1000 MW (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Cos Ø</td>
                                    <td>It is power factor(lag). It is the ratio of real power consumed to apparent power consumed by the circuit</td>
                                    <td>0 to 1</td>
                                </tr>
                                <tr>
                                    <td>V<sub>L</sub> Where L signifies an inductor</td>
                                    <td>It is the line voltage across the inductor</td>
                                    <td>11 kV to 800 kV (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Q<sub>L</sub></td>
                                    <td>It is the three phase reactive power absorbed by the inductor</td>
                                    <td>0.5 VAR to 1000 MVAR (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>V<sub>C</sub></td>
                                    <td>It is the line voltage across the capacitor</td>
                                    <td>11 kV to 800 kV (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Q<sub>C</sub></td>
                                    <td>It is the three phase reactive power produced by the capacitor</td>
                                    <td>0.5 VAR to 1000 MVAR (but not restricted)</td>
                                </tr>
                                <tr>
                                    <td>Calculated Impedance</td>
                                    <td>It is calculated by the user based on the given values</td>
                                    <td>Based on rating of the equipment with the correct formula is being used</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mx-3">
            <img width="40%" id="symbol" class="img-fluid mx-auto d-block my-5" alt="component symbol">
        </div>

        <template id="complexInput">
            <div class="input-group mb-2">
                <span class="input-group-text"></span>
                <label class="visually-hidden visually-hidden-focusable"></label>
                <input class="form-control" type="number" step="any" value="1">
                <span class="input-group-text">+j</span>
                <label class="visually-hidden visually-hidden-focusable"></label>
                <input class="form-control" type="number" step="any" value="0">
                <span class="input-group-text"></span>
            </div>
        </template>
        <div class="row mx-3">
            <div class="col-lg-4 mb-2">
                <select id="selector" class="form-select" name="Component" onchange="select()">
                <option value="G" selected>Generator</option>
                <option value="M">Motor</option>
                <option value="TM">Transformer</option>
                <option value="TL">Transmission Line</option>
                <option value="L">Load</option>
                <option value="SI">Shunt Inductance</option>
                <option value="SC">Shunt Capacitance</option>
            </select>
            </div>
            <div class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">Base MVA</span>
                    <label class="visually-hidden visually-hidden-focusable" for="mvab">Base MVA value</label>
                    <input id="mvab" class="form-control default" type="number" step="any" min="0" value="30">
                    <span class="input-group-text">MVA</span>
                </div>
            </div>
            <div id="transHide" class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">Base kV</span>
                    <label class="visually-hidden visually-hidden-focusable" for="kvb">Base kV value</label>
                    <input id="kvb" class="form-control default" type="number" step="any" min="0" value="27">
                    <span class="input-group-text">kV</span>
                </div>
            </div>
        </div>
        <div id="syncMach" class="row mx-3">
            <div class="complexInput col-lg-6" data-parms='{"label":"Impedance","id":"impSync","unit":"\u03A9"}'></div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Impedance","id":"impSyncAns","unit":"p.u"}'></div>
            <div class="d-flex justify-content-end">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated impedance (p.u)</button>
            </div>
        </div>
        <div id="transmissionLine" class="row mx-3">
            <div class="complexInput col-lg-4" data-parms='{"label":"Impedance Per Km","id":"impTL","unit":"\u03A9/Km"}'></div>
            <div class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">Length of line</span>
                    <label class="visually-hidden visually-hidden-focusable" for="TLlen">Length of transmission line</label>
                    <input id="TLlen" class="form-control" type="number" step="any" min="0" value="1">
                    <span class="input-group-text">km</span>
                </div>
            </div>
            <div class="complexInput col-lg-4" data-parms='{"label":"Calculated Impedance","id":"impTLAns","unit":"p.u"}'></div>
            <div class="d-flex justify-content-end">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated impedance (p.u)</button>
            </div>
        </div>
        <div id="transformer" class="row mx-3">
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">Base kV Primary</span>
                    <label class="visually-hidden visually-hidden-focusable" for="kvbp">Base kV Primary value</label>
                    <input id="kvbp" class="form-control" type="number" step="any" min="0" value="27">
                    <span class="input-group-text">kV</span>
                </div>
            </div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Primary Impedance","id":"impPr","unit":"\u03A9"}'></div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">Base kV Secondary</span>
                    <label class="visually-hidden visually-hidden-focusable" for="kvbs">Base kV Secondary value</label>
                    <input id="kvbs" class="form-control" type="number" step="any" min="0" value="27">
                    <span class="input-group-text">kV</span>
                </div>
            </div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Secondary Impedance","id":"impSc","unit":"\u03A9"}'></div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Primary Impedance","id":"impPrAns","unit":"p.u"}'></div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Secondary Impedance","id":"impScAns","unit":"p.u"}'></div>
            <div class="d-flex justify-content-end">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated primary impedance and secondary impedance (p.u)</button>
            </div>
        </div>
        <div id="load" class="row mx-3">
            <div class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">|V<sub>L</sub>|</span>
                    <label class="visually-hidden visually-hidden-focusable" for="vl">Load Voltage</label>
                    <input id="vl" class="form-control" type="number" step="any" min="0" value="27">
                    <span class="input-group-text"> kV</span>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">P<sub>L</sub></span>
                    <label class="visually-hidden visually-hidden-focusable" for="pl">Real Power</label>
                    <input id="pl" class="form-control" type="number" step="any" min="0" value="30">
                    <span class="input-group-text">MW</span>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="input-group mb-2">
                    <span class="input-group-text">Cos(&#952;)</span>
                    <label class="visually-hidden visually-hidden-focusable" for="pf">Power Factor Lag</label>
                    <input id="pf" class="form-control" type="number" step="any" min="0" value="0.85" max="1">
                    <span class="input-group-text">pf(lag)</span>
                </div>
            </div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Impedance","id":"impLAns","unit":"p.u"}'></div>
            <div class="col-lg-6 d-grid">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated load impedance (p.u)</button>
            </div>
        </div>
        <div id="shunt-inductance" class="row mx-3">
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">|V<sub>L</sub>|</span>
                    <label class="visually-hidden visually-hidden-focusable" for="vlL">Load Voltage</label>
                    <input id="vlL" class="form-control" type="number" step="any" min="0" value="27">
                    <span class="input-group-text"> kV</span>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">Q<sub>L</sub></span>
                    <label class="visually-hidden visually-hidden-focusable" for="ql">Reactive Power</label>
                    <input id="ql" class="form-control" type="number" step="any" min="0" value="30">
                    <span class="input-group-text">MVAR</span>
                </div>
            </div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Impedance","id":"impShLAns","unit":"p.u"}'></div>
            <div class="col-lg-6 d-grid">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated impedance (p.u)</button>
            </div>
        </div>
        <div id="shunt-capacitance" class="row mx-3">
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">|V<sub>C</sub>|</span>
                    <label class="visually-hidden visually-hidden-focusable" for="vlC">Load Voltage</label>
                    <input id="vlC" class="form-control" type="number" step="any" min="0" value="27">
                    <span class="input-group-text"> kV</span>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <span class="input-group-text">Q<sub>C</sub></span>
                    <label class="visually-hidden visually-hidden-focusable" for="ql">Reactive Power</label>
                    <input id="ql" class="form-control" type="number" step="any" min="0" value="30">
                    <span class="input-group-text">MVAR</span>
                </div>
            </div>
            <div class="complexInput col-lg-6" data-parms='{"label":"Calculated Impedance","id":"impShCAns","unit":"p.u"}'></div>
            <div class="col-lg-6 d-grid">
                <button class="btn btn-success" type="submit" onclick="getResult()">Check calculated impedance (p.u)</button>
            </div>
        </div>
        <div id="result" class=" mx-3 mt-3 row">
        </div>
        <footer class="text-center py-4">
            &copy;<span id="year"></span> Made with care by SRMIST-Department of Electrical and Electronics Engineering.
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
        <script src="./js/complex.js" async defer></script>
        <script src="./js/component.js"></script>
        <script src="./js/main.js"></script>
    </body>
</html>